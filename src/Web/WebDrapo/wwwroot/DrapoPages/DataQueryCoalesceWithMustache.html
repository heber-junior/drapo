<!DOCTYPE html>
<html>
<head>
    <script src="/drapo.js"></script>
    <title>Data Query - Alias property coalesce</title>
</head>
<body>
    <span>Data Query - LEFT Join Coalesce (simple and complex objects)</span>
    <div d-dataKey="wordUnkown" d-dataType="value" d-dataValue="Sem descrição"></div>
    <div d-dataKey="order" d-dataType="array" d-dataValue='[{"Code":1,"Product":1},{"Code":2,"Product":4}]'></div>
    <div d-dataKey="products" d-dataType="array" d-dataValue='[{"Code":1,"BarCode":"9997891"},{"Code":2,"BarCode":"9997892","Description":"Product_2"},{"Code":"3","Description":""},{"Code":"4","Description":"Product_4"}]'></div>
    <div d-dataKey="queryOrders" d-dataType="query" d-dataValue="SELECT O.Code as OrderCode, P.BarCode, COALESCE(P.Description,{{wordUnkown}}) as Description FROM order as O LEFT JOIN products as P ON O.Product = P.Code"></div>
    <br />
    <table>
        <tr>
            <td>Order</td>
            <td>Coalesce(Bar code or Code)</td>
            <td>Description</td>
        </tr>
        <tr d-for="order in queryOrders">
            <td>{{order.OrderCode}}</td>
            <td>{{order.BarCode}}</td>
            <td>{{order.Description}}</td>
        </tr>
    </table>
</body>
</html>